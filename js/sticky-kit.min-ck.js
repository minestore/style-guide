// Generated by CoffeeScript 1.6.3
/**
@license Sticky-kit v1.0.3 | WTFPL | Leaf Corcoran 2013 | http://leafo.net
*/(function(){var e,t;e=this.jQuery;t=e(window);e.fn.stick_in_parent=function(n){var r,i,s,o,u,a,f,l;n==null&&(n={});u=n.sticky_class,i=n.inner_scrolling,o=n.parent,s=n.offset_top;s==null&&(s=0);o==null&&(o=void 0);i==null&&(i=!0);u==null&&(u="is_stuck");a=function(n,r,a,f,l,c,h){var p,d,v,m,g,y,b,w,E,S;if(n.data("sticky_kit"))return;n.data("sticky_kit",!0);y=n.parent();o!=null&&(y=y.closest(o));if(!y.length)throw"failed to find stick parent";v=!1;E=e("<div />");b=function(){var e,t,i;e=parseInt(y.css("border-top-width"),10);t=parseInt(y.css("padding-top"),10);r=parseInt(y.css("padding-bottom"),10);a=y.offset().top+e+t;f=y.height();i=v?(v=!1,n.insertAfter(E).css({position:"",top:"",width:""}),E.detach(),!0):void 0;l=n.offset().top-parseInt(n.css("margin-top"),10)-s;c=n.outerHeight(!0);h=n.css("float");E.css({width:n.outerWidth(!0),height:c,display:n.css("display"),"vertical-align":n.css("vertical-align"),"float":h});if(i)return S()};b();if(c===f)return;p=!1;m=void 0;g=s;S=function(){var e,o,d,b,w;d=t.scrollTop();m!=null&&(o=d-m);m=d;if(v){b=d+c+g>f+a;if(p&&!b){p=!1;n.css({position:"fixed",bottom:"",top:g}).trigger("sticky_kit:unbottom")}if(d<l){v=!1;g=s;(h==="left"||h==="right")&&n.insertAfter(E);E.detach();e={position:"",width:"",top:""};n.css(e).removeClass(u).trigger("sticky_kit:unstick")}if(i){w=t.height();if(c>w&&!p){g-=o;g=Math.max(w-c,g);g=Math.min(s,g);v&&n.css({top:g+"px"})}}}else if(d>l){v=!0;e={position:"fixed",top:g};e.width=n.outerWidth()+"px";n.css(e).addClass(u).after(E);(h==="left"||h==="right")&&E.append(n);n.trigger("sticky_kit:stick")}if(v){b==null&&(b=d+c+g>f+a);if(!p&&b){p=!0;y.css("position")==="static"&&y.css({position:"relative"});return n.css({position:"absolute",bottom:r,top:""}).trigger("sticky_kit:bottom")}}};w=function(){b();return S()};d=function(){t.off("scroll",S);e(document.body).off("sticky_kit:recalc",w);n.off("sticky_kit:detach",d);n.removeData("sticky_kit");n.css({position:"",bottom:"",top:""});y.position("position","");if(v){n.insertAfter(E).removeClass(u);return E.remove()}};t.on("scroll",S);t.on("resize",w);e(document.body).on("sticky_kit:recalc",w);n.on("sticky_kit:detach",d);return setTimeout(S,0)};for(f=0,l=this.length;f<l;f++){r=this[f];a(e(r))}return this}}).call(this);